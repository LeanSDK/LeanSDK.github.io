<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
<meta name="@leansdk/leanes-documentation/config/environment" content="%7B%22modulePrefix%22%3A%22%40leansdk%2Fleanes-documentation%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%2F%22%2C%22locationType%22%3A%22trailing-history%22%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Afalse%2C%22_TEMPLATE_ONLY_GLIMMER_COMPONENTS%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22%40leansdk%2Fleanes-documentation%22%2C%22version%22%3A%227.0.0%2B49fd3bed%22%7D%2C%22guidemaker%22%3A%7B%22title%22%3A%22LeanES%22%2C%22description%22%3A%22Docs%20%26%20Guides%22%2C%22sourceRepo%22%3A%22https%3A%2F%2Fgithub.com%2FLeanSDK%2FLeanSDK.github.io%22%2C%22copyright%22%3A%22Denis%20Trayzhon%20and%20SAIFAS%20LLC%22%2C%22social%22%3A%7B%22github%22%3A%22LeanSDK%2Fleanes%22%2C%22twitter%22%3A%22real_ate%22%2C%22discordLink%22%3A%22%3Cinsert%20link%20here%3E%22%7D%7D%2C%22historySupportMiddleware%22%3Atrue%2C%22exportApplicationGlobal%22%3Afalse%2C%22fastboot%22%3A%7B%22hostWhitelist%22%3A%5B%7B%7D%5D%7D%2C%22ember-meta%22%3A%7B%22description%22%3A%22Docs%20%26%20Guides%22%2C%22title%22%3A%22LeanES%22%7D%2C%22ember-collapsible-panel%22%3A%7B%7D%2C%22googleFonts%22%3A%5B%22Fredericka%2Bthe%2BGreat%22%2C%22Roboto%3A300%22%5D%7D" />
<!-- EMBER_CLI_FASTBOOT_TITLE -->  <meta name="ember-cli-head-start" content>  <title>InversifyJS - PureMVC &amp; Clean Architecture - LeanES</title>

  <meta name="description" content="О InversifyJS 

Представляем в этой главе адаптированный перевод статьи и этой статьи 

InversifyJS is a powerful lightweight (4KB) pico inversion of control (IoC) container for TypeScript and JavaScript apps. A pico IoC container uses a class constructor...">

<meta name="referrer" content="unsafe-url">

<!---->
<!---->
<!---->
<!---->
  <meta property="og:title" content="InversifyJS - PureMVC &amp; Clean Architecture - LeanES">

<!---->
  <meta property="og:description" content="О InversifyJS 

Представляем в этой главе адаптированный перевод статьи и этой статьи 

InversifyJS is a powerful lightweight (4KB) pico inversion of control (IoC) container for TypeScript and JavaScript apps. A pico IoC container uses a class constructor...">

  <meta property="og:type" content="website">

<!---->
<meta name="twitter:card" content="summary">

<!---->
<!---->
  <meta name="twitter:title" content="InversifyJS - PureMVC &amp; Clean Architecture - LeanES">

<!---->
  <meta name="twitter:description" content="О InversifyJS 

Представляем в этой главе адаптированный перевод статьи и этой статьи 

InversifyJS is a powerful lightweight (4KB) pico inversion of control (IoC) container for TypeScript and JavaScript apps. A pico IoC container uses a class constructor...">

<!---->
<!---->
<!----><meta name="ember-cli-head-end" content>

<link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great|Roboto:300" rel="stylesheet" type="text/css" media="all">

    <link integrity="" rel="stylesheet" href="/assets/vendor-8fdc42ffbb88b6ca5d19e9e988344ec2.css">
    <link integrity="" rel="stylesheet" href="/assets/@leansdk/leanes-documentation-d41d8cd98f00b204e9800998ecf8427e.css">

    
  </head>
  <body  class="application version show version-show">
    <script type="x/boundary" id="fastboot-body-start"></script><!---->

<header class="header">
  <nav role="navigation" aria-label="main" class="container">
    <a href="/" class="logo">
        <span>
          LeanES
        </span>
    </a>

    <form>
      <div id="ember15999" class="search-input ember-view"><!----></div>
    </form>
  </nav>
</header>

<main class="container">
  <aside class="sidebar">
        
    <div class="ember-view ember-basic-dropdown-trigger  ember-power-select-trigger" role="button" tabindex="0" data-ebd-id="ember16000-trigger" aria-owns="ember-basic-dropdown-content-ember16000" aria-label="v7.0.0-RU">
    
          <span class="ember-power-select-selected-item">
        
      7.0
    
      </span>
<!----><span class="ember-power-select-status-icon"></span>

  
  </div>

    <div id="ember-basic-dropdown-content-ember16000" class="ember-basic-dropdown-content-placeholder" style="display: none;"></div>





  <input id="toc-toggle" class="toc-toggle visually-hidden" type="checkbox">
  <label for="toc-toggle">Table of Contents <span class="visually-hidden">toggle</span></label>

  <nav class="toc-container versions" aria-label="table of contents">
    <ol id="ember16006" class="toc-level-0 ember-view">    <li class="toc-level-0 ">
<a href="#" id="ember16007" class="loading ember-view">          Introduction
</a>    </li>
<!---->    <li class="toc-level-0 ">
<div id="ember16008" class="cp-Panel cp-is-open ember-view"><a href="/release/getting-started" id="ember16009" class="cp-Panel-toggle ember-view">              Getting Started
</a>
<div id="ember16010" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16011" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/getting-started/index" id="ember16012" class="ember-view">          How To Use The Guides
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/getting-started/quick-start" id="ember16013" class="ember-view">          Quick Start
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16014" class="cp-Panel cp-is-open ember-view"><a href="/release/tutorial" id="ember16015" class="cp-Panel-toggle ember-view">              Tutorial
</a>
<div id="ember16016" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16017" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<div id="ember16018" class="cp-Panel cp-is-open ember-view"><a href="#" id="ember16019" class="cp-Panel-toggle loading ember-view">              Simple app
</a>
<div id="ember16020" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16021" class="toc-level-2 ember-view">    <li class="toc-level-2 ">
<a href="/release/tutorial/simple-app/index" id="ember16022" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-1 ">
<div id="ember16023" class="cp-Panel cp-is-open ember-view"><a href="#" id="ember16024" class="cp-Panel-toggle loading ember-view">              Daemon app
</a>
<div id="ember16025" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16026" class="toc-level-2 ember-view">    <li class="toc-level-2 ">
<a href="/release/tutorial/daemon-app/index" id="ember16027" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-1 ">
<div id="ember16028" class="cp-Panel cp-is-open ember-view"><a href="#" id="ember16029" class="cp-Panel-toggle loading ember-view">              RESTful Server
</a>
<div id="ember16030" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16031" class="toc-level-2 ember-view">    <li class="toc-level-2 ">
<a href="/release/tutorial/rest-server/index" id="ember16032" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember16033" class="loading ember-view">          Core Concepts
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember16034" class="cp-Panel cp-is-open ember-view"><a href="/release/object-model" id="ember16035" class="cp-Panel-toggle ember-view">              Object model
</a>
<div id="ember16036" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16037" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/object-model/index" id="ember16038" class="ember-view">          Introduction
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/core-object" id="ember16039" class="ember-view">          CoreObject
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/meta-object" id="ember16040" class="ember-view">          MetaObject
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/module" id="ember16041" class="ember-view">          Module
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/proto" id="ember16042" class="ember-view">          Proto
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/mixin" id="ember16043" class="ember-view">          Mixin
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/state-machine" id="ember16044" class="ember-view">          StateMachine
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/decorators" id="ember16045" class="ember-view">          Decorators
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/interfaces" id="ember16046" class="ember-view">          Interfaces
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/utils" id="ember16047" class="ember-view">          Utils
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/constants" id="ember16048" class="ember-view">          Constants
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/plugins-and-patches" id="ember16049" class="ember-view">          Plugins &amp; Patches
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16050" class="cp-Panel cp-is-open ember-view"><a href="/release/puremvc" id="ember16051" class="cp-Panel-toggle ember-view">              PureMVC &amp; Clean Architecture
</a>
<div id="ember16052" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16053" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/puremvc/index" id="ember16054" class="ember-view">          PureMVC Gestalt
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/facade" id="ember16055" class="ember-view">          Facade
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/notifications" id="ember16056" class="ember-view">          Notifications
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/commands" id="ember16057" class="ember-view">          Commands
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/mediators" id="ember16058" class="ember-view">          Mediators
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/proxies" id="ember16059" class="ember-view">          Proxies
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/solid" id="ember16060" class="ember-view">          SOLID
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/clean-arch" id="ember16061" class="ember-view">          Clean Architecture
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/dependency-inversion" id="ember16062" class="ember-view">          Dependency inversion
</a>    </li>
    <li class="toc-level-1 selected">
<a href="/release/puremvc/inversify" id="ember16063" class="selected ember-view">          InversifyJS
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16064" class="cp-Panel cp-is-open ember-view"><a href="/release/pipes" id="ember16065" class="cp-Panel-toggle ember-view">              Multitones &amp; Pipes
</a>
<div id="ember16066" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16067" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/pipes/index" id="ember16068" class="ember-view">          Pipe
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/pipes/pipe-message" id="ember16069" class="ember-view">          PipeMessage
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/pipes/junction" id="ember16070" class="ember-view">          Junction
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/pipes/pipe-aware-module" id="ember16071" class="ember-view">          PipeAwareModule
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16072" class="cp-Panel cp-is-open ember-view"><a href="/release/applications" id="ember16073" class="cp-Panel-toggle ember-view">              Application concerns
</a>
<div id="ember16074" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16075" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/applications/index" id="ember16076" class="ember-view">          Application
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/app-types" id="ember16077" class="ember-view">          Application types &amp; Goals
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/app-mediator" id="ember16078" class="ember-view">          Application Mediator
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/script-command" id="ember16079" class="ember-view">          Script command
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/logging" id="ember16080" class="ember-view">          Logging
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/addons-in-use" id="ember16081" class="ember-view">          Addons in use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember16082" class="loading ember-view">          Addons
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember16083" class="cp-Panel cp-is-open ember-view"><a href="/release/fs-utils" id="ember16084" class="cp-Panel-toggle ember-view">              Fs Utils
</a>
<div id="ember16085" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16086" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/fs-utils/index" id="ember16087" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16088" class="cp-Panel cp-is-open ember-view"><a href="/release/configuration" id="ember16089" class="cp-Panel-toggle ember-view">              Configuration
</a>
<div id="ember16090" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16091" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/configuration/index" id="ember16092" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16093" class="cp-Panel cp-is-open ember-view"><a href="/release/delayable" id="ember16094" class="cp-Panel-toggle ember-view">              Delayable
</a>
<div id="ember16095" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16096" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/delayable/index" id="ember16097" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16098" class="cp-Panel cp-is-open ember-view"><a href="/release/mapper" id="ember16099" class="cp-Panel-toggle ember-view">              Mapper
</a>
<div id="ember16100" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16101" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/mapper/index" id="ember16102" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16103" class="cp-Panel cp-is-open ember-view"><a href="/release/rest" id="ember16104" class="cp-Panel-toggle ember-view">              RESTful
</a>
<div id="ember16105" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16106" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/rest/index" id="ember16107" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16108" class="cp-Panel cp-is-open ember-view"><a href="/release/swagger" id="ember16109" class="cp-Panel-toggle ember-view">              Swagger
</a>
<div id="ember16110" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16111" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/swagger/index" id="ember16112" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16113" class="cp-Panel cp-is-open ember-view"><a href="/release/queryable" id="ember16114" class="cp-Panel-toggle ember-view">              Queryable
</a>
<div id="ember16115" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16116" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/queryable/index" id="ember16117" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16118" class="cp-Panel cp-is-open ember-view"><a href="/release/mongo" id="ember16119" class="cp-Panel-toggle ember-view">              Mongo
</a>
<div id="ember16120" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16121" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/mongo/index" id="ember16122" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember16123" class="loading ember-view">          Application Development
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember16124" class="cp-Panel cp-is-open ember-view"><a href="/release/simple-example" id="ember16125" class="cp-Panel-toggle ember-view">              Simple Example
</a>
<div id="ember16126" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16127" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/simple-example/index" id="ember16128" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16129" class="cp-Panel cp-is-open ember-view"><a href="/release/daemon-example" id="ember16130" class="cp-Panel-toggle ember-view">              Daemon Example
</a>
<div id="ember16131" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16132" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/daemon-example/index" id="ember16133" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember16134" class="cp-Panel cp-is-open ember-view"><a href="/release/server-example" id="ember16135" class="cp-Panel-toggle ember-view">              Server Example
</a>
<div id="ember16136" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16137" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/server-example/index" id="ember16138" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember16139" class="loading ember-view">          Developer tools
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember16140" class="cp-Panel cp-is-open ember-view"><a href="/release/cli" id="ember16141" class="cp-Panel-toggle ember-view">              CLI
</a>
<div id="ember16142" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16143" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/cli/" id="ember16144" class="ember-view">          Under Development
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember16145" class="loading ember-view">          Additional Resources
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember16146" class="cp-Panel cp-is-open ember-view"><a href="/release/glossary" id="ember16147" class="cp-Panel-toggle ember-view">              Glossary
</a>
<div id="ember16148" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember16149" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/glossary/index" id="ember16150" class="ember-view">          CoreObject &amp; Decorators
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/glossary/puremvc" id="ember16151" class="ember-view">          PureMVC
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/glossary/clean-arch" id="ember16152" class="ember-view">          Clean Architecture
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/glossary/app-level" id="ember16153" class="ember-view">          Application level
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
</ol>
  </nav>

</aside>

<article id="ember16154" class="chapter ember-view"><!---->
  <a href="https://github.com/LeanSDK/LeanSDK.github.io/edit/master/guides/v7.0.0-RU/puremvc/inversify.md" target="_blank" class="edit-page icon-pencil">Edit Page</a>

<h1>
  InversifyJS
</h1>
<hr>

<div id="ember16155" class="ember-view"><p><img src="/images/puremvc/gestalt/inversifyjs.jpg" alt="InversifyJS" /></p>
<h2 id="inversifyjs">О InversifyJS</h2>
<section aria-labelledby="inversifyjs">
<p>Представляем в этой главе адаптированный перевод
<a href="https://www.codeproject.com/Articles/1085306/Introducing-InversifyJS-A-powerful-lightweight-IoC">статьи</a>
и этой <a href="https://www.methodsandtools.com/tools/inversifyjs.php">статьи</a></p>
<p>InversifyJS is a powerful lightweight (4KB) pico inversion of control (IoC) container for TypeScript and JavaScript apps. A pico IoC container uses a class constructor to identify and inject its dependencies. InversifyJS also uses annotations to identify and inject its dependencies. InversifyJS has a friendly API and encourage the usage of the best OOP and IoC practices.</p>
</section>
<h2 id="motivation">Motivation</h2>
<section aria-labelledby="motivation">
<p>JavaScript applications are becoming larger and larger day after day. InversifyJS has been designed to allow JavaScript developers to write code that adheres to the SOLID principles.</p>
<p>The main goal of Inversion of control and Dependency Injection is to remove dependencies of an application. This makes the system more decoupled and maintainable.</p>
<ul>
<li>What is Inversion of Control (IoC)</li>
</ul>
<p>In traditional programming, the flow of the business logic is determined by objects that are statically assigned to one another. With inversion of control, the flow depends on the object graph that is instantiated by the assembler and is made possible by object interactions being defined through abstractions. The binding process is achieved through dependency injection, although some argue that the use of a service locator also provides inversion of control.</p>
<p>Inversion of control as a design guideline serves the following purposes:</p>
<p>There is a decoupling of the execution of a certain task from implementation. Every module can focus on what it is designed for. Modules make no assumptions about what other systems do but rely on their contracts. Replacing modules has no side effect on other modules.</p>
<ul>
<li>What is Dependency Injection (DI)</li>
</ul>
<p>IoC is a design paradigm with the goal of giving more control to the targeted components of your application, the ones getting the work done. While Dependency injection is a pattern used to create instances of objects that other objects rely on without knowing at compile time which class will be used to provide that functionality. IoC relies on dependency injection because a mechanism is needed in order to activate the components providing the specific functionality.</p>
<p>The two concepts work together in this way to allow for much more flexible, reusable, and encapsulated code to be written. As such, they are important concepts in designing object-oriented solutions.</p>
<ul>
<li>How to implement IoC</li>
</ul>
<p>In object-oriented programming, there are several basic techniques to implement inversion of control. These are:</p>
<ul>
<li>using a factory pattern</li>
<li>using a service locator pattern</li>
<li>using a dependency injection of any given below type:</li>
<li>a constructor injection</li>
<li>a setter injection</li>
<li>an interface injection</li>
</ul>
<p>We're going to show you an example based on a node demo project which consists of a service class depending on two other classes, and the main file which is utilizing this service.</p>
<p>Now that ECMAScript 2015 version of JavaScript supports classes and that TypeScript brings static types to JavaScript application, the SOLID principles have become more relevant than ever before in the development of JavaScript applications.</p>
<p>At the time there was some IoC containers available for JavaScript applications but none of them were able to provide a developer experience as rich as We were expecting so We decided to try to develop something that would suit my needs.</p>
<p>The first commit to the InversifyJS core library took place the 7th of Apr 2015 and the version 1.0.0 was released on npm 10 days later. The version 2.0.0 was released the 11th of Sep 2016, after a year of development. The most recent release (3.3.0 at the time in which this article was published) was published in March 2017. Since the first release the project has earned over 1000 stars on GitHub, over 30 contributors and almost 25K monthly downloads on npm.</p>
</section>
<h2 id="philosophy">Philosophy</h2>
<section aria-labelledby="philosophy">
<p>InversifyJS has been developed with 3 main goals:</p>
<ol>
<li><p>Allow JavaScript developers to write code that adheres to the SOLID principles.</p></li>
<li><p>Facilitate and encourage the adherence to the best OOP and IoC practices.</p></li>
<li><p>Add as little runtime overhead as possible.</p></li>
<li><p>Provide a state of the art development experience.</p></li>
</ol>
</section>
<h2 id="dependencies">Dependencies</h2>
<section aria-labelledby="dependencies">
<p>InversifyJS requires a modern JavaScript engine with support for:</p>
<ul>
<li><a href="https://rbuckton.github.io/reflect-metadata/">Reflect metadata</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a></li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise</a> (Only required if using <a href="https://github.com/inversify/InversifyJS/blob/master/wiki/provider_injection.md">provider injection</a>)</li>
<li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a> (Only required if using <a href="https://github.com/inversify/InversifyJS/blob/master/wiki/activation_handler.md">activation handlers</a>)</li>
</ul>
<p>Check out the <a href="https://github.com/inversify/InversifyJS/blob/master/wiki/environment.md">Environment support and polyfills</a> page in the wiki and the <a href="https://github.com/inversify/inversify-basic-example">Basic example</a> to learn more.</p>
</section>
<h2 id="thebasics">The Basics</h2>
<section aria-labelledby="thebasics">
<p>Let's take a look to the basic usage and APIs of InversifyJS with TypeScript:</p>
</section>
<h3 id="step1declareyourinterfaces">Step 1: Declare your interfaces</h3>
<section aria-labelledby="step1declareyourinterfaces">
<p>Our goal is to write code that adheres to the
<a href="https://en.wikipedia.org/wiki/Dependency_inversion_principle">dependency inversion principle</a>.
This means that we should "depend upon Abstractions and do not depend upon concretions". Let's start by declaring some interfaces (abstractions).</p>
<p>The first we need to add reflect-metadata before all other our code</p>
<pre><code class="javascript language-javascript">import "reflect-metadata";
</code></pre>
<pre><code class="javascript language-javascript">interface Warrior {
    fight(): string;
    sneak(): string;
}

interface Weapon {
    hit(): string;
}

interface ThrowableWeapon {
    throw();
}
</code></pre>
<p>InversifyJS need to use the type as identifiers at runtime. We use symbols as identifiers but you can also use classes and or string literals.</p>
<pre><code class="js language-js">const TYPES = {
    Warrior: Symbol.for("Warrior"),
    Weapon: Symbol.for("Weapon"),
    ThrowableWeapon: Symbol.for("ThrowableWeapon")
};
export { TYPES };
</code></pre>
<blockquote>
  <p>Note: It is recommended to use Symbols but InversifyJS also support the usage of Classes and string literals (please refer to the features section to learn more).</p>
</blockquote>
</section>
<h3 id="step2implementtheinterfacesanddeclaredependenciesusingtheinjectdecorator">Step 2: Implement the interfaces and declare dependencies using the <code>@inject</code> decorator</h3>
<section aria-labelledby="step2implementtheinterfacesanddeclaredependenciesusingtheinjectdecorator">
<p>Let's continue by declaring some classes (concretions). The classes are implementations of the interfaces that we just declared. All the classes must be annotated with the <code>@injectable</code> decorator.</p>
<pre><code class="javascript language-javascript">import { interfaces, injectable, inject, Container } from "inversify";

@injectable()
class Katana implements Weapon {
    public hit() {
        return "cut!";
    }
}

@injectable()
class Shuriken implements ThrowableWeapon {
    public throw() {
        return "hit!";
    }
}

@injectable()
class Ninja implements Warrior {

    private _katana: Weapon;
    private _shuriken: ThrowableWeapon;

    public constructor(
      @inject(TYPES.Weapon) katana: Weapon,
      @inject(TYPES.ThrowableWeapon) shuriken: ThrowableWeapon
    ) {
        this._katana = katana;
        this._shuriken = shuriken;
    }

    public fight() { return this._katana.hit(); };
    public sneak() { return this._shuriken.throw(); };

}
</code></pre>
</section>
<h3 id="step3createandconfigureacontainer">Step 3: Create and configure a Container</h3>
<section aria-labelledby="step3createandconfigureacontainer">
<p>We recommend to do this in a file named inversify.config.ts. This is the only place in which there is some coupling. In the rest of your application your classes should be free of references to other classes.</p>
<pre><code class="javascript language-javascript">import { Container } from "inversify";

import { Ninja } from "./entities/ninja";
import { Katana } from "./entities/katana";
import { Shuriken } from "./entities/shuriken";

const myContainer = new Container();
myContainer.bind&lt;Warrior&gt;(TYPES.Warrior).to(Ninja);
myContainer.bind&lt;Weapon&gt;(TYPES.Weapon).to(Katana);
myContainer.bind&lt;ThrowableWeapon&gt;(TYPES.ThrowableWeapon).to(Shuriken);

export default myContainer;
</code></pre>
</section>
<h3 id="step4resolvedependencies">Step 4: Resolve dependencies</h3>
<section aria-labelledby="step4resolvedependencies">
<p>You can use the method <code>get&lt;T&gt;</code> from the <code>Container</code> class to resolve a dependency. Remember that you should do this only in your <a href="http://blog.ploeh.dk/2011/07/28/CompositionRoot/">composition root</a> to avoid the <a href="http://blog.ploeh.dk/2010/02/03/ServiceLocatorisanAnti-Pattern/">service locator anti-pattern</a>.</p>
<pre><code class="javascript language-javascript">import myContainer = from "./inversify.config";

const ninja = myContainer.get&lt;Warrior&gt;(TYPES.Warrior);

expect(ninja.fight()).eql("cut!"); // true
expect(ninja.sneak()).eql("hit!"); // true
</code></pre>
<p>As we can see the <code>Weapon</code> and <code>ThrowableWeapon</code> were successfully resolved and injected into <code>Ninja</code>.</p>
</section>
<h3 id="theprecedingfileperformsthefollowingoftasks">The preceding file performs the following of tasks:</h3>
<section aria-labelledby="theprecedingfileperformsthefollowingoftasks">
<ol>
<li>Import the required dependencies “reflect-metadata” and “inversify”.</li>
<li>Declare some interfaces and some types. Types are unique identifiers used to represent interfaces at runtime. We need these unique identifiers because TypeScript is compiled into JavaScript and JavaScript does not have support for static types like interfaces. We use types to identify which types need to be injected into a class.</li>
<li>Declare some classes that implement the interfaces that we previously declared. These classes will be instantiated by the IoC container and for that reasons they require to be decorated using the “@injectable” decorator. We also need to use the “@inject” decorator to indicate which types need to be injected into a class.</li>
<li>Declare an instance of the “Container” class and then declares some type bindings. A type bindings is a dictionary entry that links an abstraction (type) with an implementation (concrete class).</li>
<li>Use the IoC container instance previously declared to resolve the “Warrior” type. We declared a type binding between the “Warrior” type and the “Ninja” class so we can expect the IoC container to return an instance of the “Ninja” class. Because the “Ninja” class has a dependency in the “Weapon” and “ThrowableWapon” types and we declared some bindings for those types we can expect instances of the “Katana” and “Shuriken” classes to be instantiated and injected into the “Ninja” class.</li>
<li>Use the “log” method from the “console” object to check that instances of the Katana” and “Shuriken” has been correctly injected into the “Ninja” instance.</li>
</ol>
</section>
<h2 id="thebasicsjavascript">The Basics (JavaScript)</h2>
<section aria-labelledby="thebasicsjavascript">
<p>It is recommended to use TypeScript for the best development experience but you can use plain JavaScript if you preffer it. The following code snippet implements the previous example without TypeScript in Node.js v5.71:</p>
<pre><code class="javascript language-javascript">const inversify = require("inversify");
require("reflect-metadata");

var TYPES = {
    Ninja: "Ninja",
    Katana: "Katana",
    Shuriken: "Shuriken"
};

class Katana {
    hit() {
        return "cut!";
    }
}

class Shuriken {
    throw() {
        return "hit!";
    }
}

class Ninja {
    constructor(katana, shuriken) {
        this._katana = katana;
        this._shuriken = shuriken;
    }
    fight() { return this._katana.hit(); };
    sneak() { return this._shuriken.throw(); };
}

// Declare injections
inversify.inject(TYPES.Katana, TYPES.Shuriken)(Ninja);

// Declare bindings
const myContainer = new inversify.Container();
myContainer.bind(TYPES.Ninja).to(Ninja);
myContainer.bind(TYPES.Katana).to(Katana);
myContainer.bind(TYPES.Shuriken).to(Shuriken);

// Resolve dependencies
const ninja = myContainer.get(TYPES.Ninja);
return ninja;
</code></pre>
</section>
<h2 id="nodejsenterprisepatterns">Node.js enterprise patterns</h2>
<section aria-labelledby="nodejsenterprisepatterns">
<p>What we just saw in the previous section of this article is a basic demo of the core InversifyJS API. When we implement a real world enterprise Node.js application using TypeScript and InversifyJS with Express.js we will end up writing some code that looks as follows:</p>
<pre><code class="javascript language-javascript">import * as express from "express";
import { Response, RequestParams, Controller, Get, Post, Put } from "inversify-express-utils";
import { injectable, inject } from "inversify";
import { interfaces } from "./interfaces";
import { Type } from "./types";
import { authorize } from "./middleware";
import { Feature } from "./features";

@injectable()
@Controller(
  "/api/user",
  authorize({ feature: Feature.UserManagement })
)
class UserController {
  @inject(Type.UserRepository) private readonly _userRepository: interfaces.UserRepository;
  @inject(Type.Logger) private readonly _logger: interfaces.Logger;

  @Get("/")
  public async get(
    @Request() req: express.Request,
    @Response() res: express.Response
  ) {
    try {
      this._logger.info(`HTTP ${req.method} ${req.url}`);
      return await this._userRepository.readAll();
    } catch (e) {
      this._logger.error(`HTTP ERROR ${req.method} ${req.url}`, e);
      res.status(500).json([]);
    }
  }

  @Get("/:email")
  public async getByEmail(
    @RequestParams("email") email: string,
    @Request() req: express.Request,
    @Response() res: express.Response
  ) {
    try {
      this._logger.info(`HTTP ${req.method} ${req.url}`);
      return await this._userRepository.readAll({ where: { email: email } });
    } catch (e) {
      this._logger.error(`HTTP ERROR ${req.method} ${req.url}`, e);
      res.status(500).json([]);
    }
  }
}
</code></pre>
<p>As we can see in the preceding code snippet, the inversify-express-utils allow us to implement routing, dependency injection and even apply some Express.js middleware using a very declarative and developer friendly API. This is the kind of developer experience that we want to enable thanks to InversifyJS.</p>
</section>
<h2 id="features">Features</h2>
<section aria-labelledby="features">
<p>Let's take a look to the InversifyJS features!</p>
<p>The core InversifyJS has a rich API and supports many use cases and <a href="https://github.com/inversify/InversifyJS/tree/master/wiki#the-inversifyjs-features-and-api">features</a> including support for classes, support for Symbols, container API, controlling the scope of the dependencies, injecting a constant or dynamic value, create your own tag decorators, named bindings, circular dependencies</p>
<p>In top of an extensive list of features, we also want to provide developers with a great user experience and we are working on a serie for side-projects to facilitate the integration of InversifyJS with multiple frameworks and to provide developers with a great development experience : inversify-binding-decorators, inversify-inject-decorators, inversify-express-utils, inversify-restify-utils, inversify-vanillajs-helpers, inversify-tracer, inversify-logger-middleware, inversify-devtools.</p>
</section>
<h3 id="declaringcoremodules">Declaring core modules</h3>
<section aria-labelledby="declaringcoremodules">
<p>Kernel modules can help you to manage the complexity of your bindings in very large applications.</p>
<pre><code class="javascript language-javascript">let someModule: IKernelModule = (kernel: IKernel) =&gt; {
    kernel.bind&lt;Warrior&gt;("Warrior").to(Ninja);
    kernel.bind&lt;Weapon&gt;("Weapon").to(Katana);
    kernel.bind&lt;ThrowableWeapon&gt;("ThrowableWeapon").to(Shuriken);
};

let kernel = new Kernel({ modules: [ someModule ] });
</code></pre>
</section>
<h3 id="controllingthescopeofthedependencies">Controlling the scope of the dependencies</h3>
<section aria-labelledby="controllingthescopeofthedependencies">
<p>InversifyJS uses transient scope by default but you can also use singleton scope:</p>
<pre><code class="javascript language-javascript">kernel.bind&lt;ThrowableWeapon&gt;("ThrowableWeapon").to(Shuriken).inTransientScope(); // Default
kernel.bind&lt;ThrowableWeapon&gt;("ThrowableWeapon").to(Shuriken).inSingletonScope();
</code></pre>
</section>
<h3 id="injectingavalue">Injecting a value</h3>
<section aria-labelledby="injectingavalue">
<p>Binds an abstraction to a constant value.</p>
<pre><code class="javascript language-javascript">kernel.bind&lt;Weapon&gt;("Weapon").toValue(new Katana());
</code></pre>
</section>
<h3 id="injectingaclassconstructor">Injecting a class constructor</h3>
<section aria-labelledby="injectingaclassconstructor">
<p>Binds an abstraction to a class constructor.</p>
<pre><code class="javascript language-javascript">@inject("Weapon", "ThrowableWeapon")
class Ninja implements Warrior {

    private _katana: Weapon;
    private _shuriken: ThrowableWeapon;

    public constructor(Katana: INewable&lt;Weapon&gt;, shuriken: ThrowableWeapon) {
        this._katana = new Katana();
        this._shuriken = shuriken;
    }

    public fight() { return this._katana.hit(); };
    public sneak() { return this._shuriken.throw(); };

}
</code></pre>
<pre><code class="javascript language-javascript">kernel.bind&lt;INewable&lt;Weapon&gt;&gt;("INewable&lt;Weapon&gt;").toConstructor&lt;Weapon&gt;(Katana);
</code></pre>
</section>
<h3 id="injectingafactoryinjectingafactory">Injecting a FactoryInjecting a Factory</h3>
<section aria-labelledby="injectingafactoryinjectingafactory">
<p>Binds an abstraction to a user defined Factory.</p>
<pre><code class="javascript language-javascript">@inject("Weapon", "ThrowableWeapon")
class Ninja implements Warrior {

    private _katana: Weapon;
    private _shuriken: ThrowableWeapon;

    public constructor(katanaFactory: IFactory&lt;Weapon&gt;, shuriken: ThrowableWeapon) {
        this._katana = katanaFactory();
        this._shuriken = shuriken;
    }

    public fight() { return this._katana.hit(); };
    public sneak() { return this._shuriken.throw(); };

}
</code></pre>
<pre><code class="javascript language-javascript">kernel.bind&lt;IFactory&lt;Weapon&gt;&gt;("IFactory&lt;Weapon&gt;").toFactory&lt;Weapon&gt;((context) =&gt; {
    return () =&gt; {
        return context.kernel.get&lt;Weapon&gt;("Weapon");
    };
});
</code></pre>
</section>
<h3 id="autofactory">Auto factory</h3>
<section aria-labelledby="autofactory">
<p>Binds an abstraction to a auto-generated Factory.</p>
<pre><code class="javascript language-javascript">@inject("Weapon", "ThrowableWeapon")
class Ninja implements Warrior {

    private _katana: Weapon;
    private _shuriken: ThrowableWeapon;

    public constructor(katanaFactory: IFactory&lt;Weapon&gt;, shuriken: ThrowableWeapon) {
        this._katana = katanaFactory();
        this._shuriken = shuriken;
    }

    public fight() { return this._katana.hit(); };
    public sneak() { return this._shuriken.throw(); };

}
</code></pre>
<pre><code class="js language-js">kernel.bind&lt;IFactory&lt;Weapon&gt;&gt;("IFactory&lt;Weapon&gt;").toAutoFactory&lt;Weapon&gt;();
</code></pre>
</section>
<h3 id="injectingaproviderasynchronousfactory">Injecting a Provider (asynchronous Factory)</h3>
<section aria-labelledby="injectingaproviderasynchronousfactory">
<p>Binds an abstraction to a Provider. A provider is an asynchronous factory, this is useful when dealing with asynchronous I/O operations.</p>
<pre><code class="js language-js">@inject("Weapon", "ThrowableWeapon")
class Ninja implements Warrior {

    public katana: Weapon;
    public shuriken: ThrowableWeapon;
    public katanaProvider: IProvider&lt;Weapon&gt;;

    public constructor(katanaProvider: IProvider&lt;Weapon&gt;, shuriken: ThrowableWeapon) {
        this.katanaProvider = katanaProvider;
        this.katana= null;
        this.shuriken = shuriken;
    }

    public fight() { return this._katana.hit(); };
    public sneak() { return this._shuriken.throw(); };

}

var ninja = kernel.get&lt;Warrior&gt;("Warrior");

ninja.katanaProvider()
     .then((katana) =&gt; { ninja.katana = katana; })
     .catch((e) =&gt; { console.log(e); });
</code></pre>
<pre><code class="js language-js">kernel.bind&lt;IProvider&lt;Weapon&gt;&gt;("IProvider&lt;Weapon&gt;").toProvider&lt;Weapon&gt;((context) =&gt; {
    return () =&gt; {
        return new Promise&lt;Weapon&gt;((resolve) =&gt; {
            let katana = context.kernel.get&lt;Weapon&gt;("Weapon");
            resolve(katana);
        });
    };
});
</code></pre>
</section>
<h3 id="injectingaproxy">Injecting a proxy</h3>
<section aria-labelledby="injectingaproxy">
<p>It is possible to create a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">proxy</a> of a dependency just before it is injected. This is useful to keep our dependencies agnostic of the implementation of crosscutting concerns like caching or logging.</p>
<pre><code class="js language-js">interface Weapon {
    use: () =&gt; void;
}

class Katana implements Weapon {
    public use() {
        console.log("Used Katana!");
    }
}

interface Warrior {
    katana: Weapon;
}

@inject("Weapon")
class Ninja implements Warrior {
    public katana: Weapon;
    public constructor(katana: Weapon) {
        this.katana = katana;
    }
}
</code></pre>
<pre><code class="js language-js">kernel.bind&lt;Warrior&gt;("Warrior").to(Ninja);

kernel.bind&lt;Weapon&gt;("Weapon").to(Katana).proxy((katana) =&gt; {
    let handler = {
        apply: function(target, thisArgument, argumentsList) {
            console.log(`Starting: ${new Date().getTime()}`);
            let result = target.apply(thisArgument, argumentsList);
            console.log(`Finished: ${new Date().getTime()}`);
            return result;
        }
    };
    katana.use = new Proxy(katana.use, handler);
    return katana;
});
</code></pre>
</section>
<h3 id="multiinjection">Multi-injection</h3>
<section aria-labelledby="multiinjection">
<p>We can use multi-injection When two or more concretions have been bound to the an abstraction. Notice how an array of <code>IWeapon</code> is injected into the <code>Ninja</code> class via its constructor:</p>
<pre><code class="js language-js">interface IWeapon {
    name: string;
}

class Katana implements IWeapon {
    public name = "Katana";
}
class Shuriken implements IWeapon {
    public name = "Shuriken";
}

interface Warrior {
    katana: IWeapon;
    shuriken: IWeapon;
}

@inject("IWeapon[]")
class Ninja implements Warrior {
    public katana: IWeapon;
    public shuriken: IWeapon;
    public constructor(weapons: IWeapon[]) {
        this.katana = weapons[0];
        this.shuriken = weapons[1];
    }
}
</code></pre>
<p>We are binding <code>Katana</code> and <code>Shuriken</code> to <code>IWeapon</code>:</p>
<pre><code class="js language-js">kernel.bind&lt;Warrior&gt;("Warrior").to(Ninja);
kernel.bind&lt;IWeapon&gt;("IWeapon").to(Katana);
kernel.bind&lt;IWeapon&gt;("IWeapon").to(Shuriken);
</code></pre>
</section>
<h3 id="taggedbindings">Tagged bindings</h3>
<section aria-labelledby="taggedbindings">
<p>We can use tagged bindings to fix <code>AMBIGUOUS_MATCH</code> errors when two or more concretions have been bound to the an abstraction. Notice how the constructor arguments of the <code>Ninja</code> class have been annotated using the <code>@tagged</code> decorator:</p>
<pre><code class="js language-js">interface IWeapon {}
class Katana implements IWeapon { }
class Shuriken implements IWeapon {}

interface Warrior {
    katana: IWeapon;
    shuriken: IWeapon;
}

@inject("IWeapon", "IWeapon")
class Ninja implements Warrior {
    public katana: IWeapon;
    public shuriken: IWeapon;
    public constructor(
        @tagged("canThrow", false) katana: IWeapon,
        @tagged("canThrow", true) shuriken: IWeapon
    ) {
        this.katana = katana;
        this.shuriken = shuriken;
    }
}
</code></pre>
<p>We are binding <code>Katana</code> and <code>Shuriken</code> to <code>IWeapon</code> but a <code>whenTargetTagged</code> constraint is added to avoid <code>AMBIGUOUS_MATCH</code> errors:</p>
<pre><code class="js language-js">kernel.bind&lt;Warrior&gt;(ninjaId).to(Ninja);
kernel.bind&lt;IWeapon&gt;(weaponId).to(Katana).whenTargetTagged("canThrow", false);
kernel.bind&lt;IWeapon&gt;(weaponId).to(Shuriken).whenTargetTagged("canThrow", true);
</code></pre>
</section>
<h3 id="createyourowntagdecorators">Create your own tag decorators</h3>
<section aria-labelledby="createyourowntagdecorators">
<p>Creating your own decorators is really simple:</p>
<pre><code class="js language-js">let throwable = tagged("canThrow", true);
let notThrowable = tagged("canThrow", false);

@inject("IWeapon", "IWeapon")
class Ninja implements Warrior {
    public katana: IWeapon;
    public shuriken: IWeapon;
    public constructor(
        @notThrowable katana: IWeapon,
        @throwable shuriken: IWeapon
    ) {
        this.katana = katana;
        this.shuriken = shuriken;
    }
}
</code></pre>
</section>
<h3 id="namedbindings">Named bindings</h3>
<section aria-labelledby="namedbindings">
<p>We can use named bindings to fix <code>AMBIGUOUS_MATCH</code> errors when two or more concretions have been bound to the an abstraction. Notice how the constructor arguments of the <code>Ninja</code> class have been annotated using the <code>@named</code> decorator:</p>
<pre><code class="js language-js">interface IWeapon {}
class Katana implements IWeapon { }
class Shuriken implements IWeapon {}

interface Warrior {
    katana: IWeapon;
    shuriken: IWeapon;
}

@inject("IWeapon", "IWeapon")
class Ninja implements Warrior {
    public katana: IWeapon;
    public shuriken: IWeapon;
    public constructor(
        @named("strong")katana: IWeapon,
        @named("weak") shuriken: IWeapon
    ) {
        this.katana = katana;
        this.shuriken = shuriken;
    }
}
</code></pre>
<p>We are binding <code>Katana</code> and <code>Shuriken</code> to <code>IWeapon</code> but a <code>whenTargetNamed</code> constraint is added to avoid <code>AMBIGUOUS_MATCH</code> errors:</p>
<pre><code class="js language-js">kernel.bind&lt;Warrior&gt;("Warrior").to(Ninja);
kernel.bind&lt;IWeapon&gt;("IWeapon").to(Katana).whenTargetNamed("strong");
kernel.bind&lt;IWeapon&gt;("IWeapon").to(Shuriken).whenTargetNamed("weak");
</code></pre>
</section>
<h3 id="contextualbindingsparamnames">Contextual bindings &amp; <code>@paramNames</code></h3>
<section aria-labelledby="contextualbindingsparamnames">
<p>The <code>@paramNames</code> decorator is used to access the names of the constructor arguments from a contextual constraint even when the code is compressed. The <code>constructor(katana, shuriken) { ...</code> becomes <code>constructor(a, b) { ...</code> after compression but thanks to <code>@paramNames</code> we can still refer to the design-time names <code>katana</code> and <code>shuriken</code>.</p>
<pre><code class="js language-js">interface IWeapon {}
class Katana implements IWeapon { }
class Shuriken implements IWeapon {}

interface Warrior {
    katana: IWeapon;
    shuriken: IWeapon;
}

@inject("IWeapon", "IWeapon")
@paramNames("katana","shuriken")
class Ninja implements Warrior {
    public katana: IWeapon;
    public shuriken: IWeapon;
    public constructor(
        katana: IWeapon,
        shuriken: IWeapon
    ) {
        this.katana = katana;
        this.shuriken = shuriken;
    }
}
</code></pre>
<p>We are binding <code>Katana</code> and <code>Shuriken</code> to <code>IWeapon</code> but a custom when constraint is added to avoid <code>AMBIGUOUS_MATCH</code> errors:</p>
<pre><code class="js language-js">kernel.bind&lt;Warrior&gt;(ninjaId).to(Ninja);

kernel.bind&lt;IWeapon&gt;("IWeapon").to(Katana).when((request: IRequest) =&gt; {
    return request.target.name.equals("katana");
});

kernel.bind&lt;IWeapon&gt;("IWeapon").to(Shuriken).when((request: IRequest) =&gt; {
    return request.target.name.equals("shuriken");
});
</code></pre>
<p>The target fields implement the <code>IQueryableString</code> interface to help you to create your custom constraints:</p>
<pre><code class="js language-js">interface IQueryableString {
  startsWith(searchString: string): boolean;
  endsWith(searchString: string): boolean;
  contains(searchString: string): boolean;
  equals(compareString: string): boolean;
  value(): string;
}
</code></pre>
</section>
<h3 id="circulardependencies">Circular dependencies</h3>
<section aria-labelledby="circulardependencies">
<p>InversifyJS is able to identify circular dependencies and will throw an exception to help you to identify the location of the problem if a circular dependency is detected:</p>
<p><code><code>Error: Circular dependency found between services: Weapon and Warrior</code></code></p>
</section>
</div>

<footer id="ember16156" class="ember-view">  <a href="/release/puremvc/dependency-inversion" id="ember16157" class="previous-guide ember-view">Dependency inversion</a>

<a href="/release/pipes/index" id="ember16158" class="next-guide ember-view">      We've finished covering PureMVC &amp; Clean Architecture. Next up: Multitones &amp; Pipes - Pipe
</a></footer>
</article>


</main>

<footer id="ember105" class="es-footer ember-view" role="contentinfo">
  <div class="footer responsive">
    <div class="container space-between">
      <div id="ember106" class="footer-info flex-1">
        Denis Trayzhon and SAIFAS LLC © 2021
      </div>
      <div id="ember114" class="footer-statement footer-social">
            <a href="http://twitter.com/real_ate" target="_blank" title="Twitter">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 1000 1000">
                <path d="M939.5 227.941q-37 54-90 93v23q0 73-21 145t-64 139q-43 67-103 117t-144 82q-84 32-181 30-151 0-276-81 19 2 43 2 126 0 224-77-59-1-105-36t-64-89q19 3 34 3 24 0 48-6-63-13-104-62t-41-115v-2q38 21 82 23-37-25-59-64t-22-86q0-49 25-91 68 83 164 133t208 55q-5-21-5-41 0-75 53-127t127-53q79 0 132 57 61-12 115-44-21 64-80 100 52-6 104-28z"></path>
              </svg>
            </a>
            <a href="https://github.com/LeanSDK/leanes" target="_blank" title="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 1000 1000">
                <path d="M392 643q0 22-7 45t-24 43q-17 20-40 19t-41-19q-18-18-24-43t-7-45q-1-20 7-46t24-43q16-17 41-19t40 19q15 21 24 43t7 46zm357 0q0 22-7 45t-24 43q-17 20-40 19t-41-19q-18-18-24-43t-7-45q-1-20 7-46t24-43q16-17 41-19t40 19q15 21 24 43t7 46zm90 0q0-67-39-114t-104-47q-23 0-109 12-40 6-88 6t-87-6q-85-12-109-12-66 0-104 47t-39 114q0 49 18 85t45 58q27 22 68 33t78 17q37 6 83 4h94q46 0 83-4t78-17q41-13 69-33t45-58q17-38 18-85zm125-99q0 116-34 185-22 43-59 74t-79 48q-42 17-95 27t-96 12q-43 2-93 3-43 0-79-2t-82-7q-46-5-85-17t-77-29q-38-17-67-45t-48-64q-35-69-35-185 0-132 76-221-15-45-15-95 0-64 28-121 61 0 106 22t106 69q82-20 172-20 83 0 157 18 58-46 104-67t105-22q29 57 29 121 0 49-15 94 76 89 76 222z"></path>
              </svg>
            </a>
            <a href="<insert link here>" title="Discord">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 245 240">
                <path d="M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zm36.5 0c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"></path>
                <path class="st0" d="M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"></path>
              </svg>
            </a>
      </div>
      <div id="ember118" class="footer-info flex-1 text-align-right">
        Built with <a href="https://github.com/empress/guidemaker" target="_blank">Guidemaker</a>
      </div>
    </div>
  </div>
</footer>
<script type="x/boundary" id="fastboot-body-end"></script>

    <script src="/assets/vendor-ad33abe8a418d2568f8a7820e981bb51.js"></script>
    <script src="/assets/@leansdk/leanes-documentation-f7e428ea37a9be64d71244d3122191f3.js"></script>

    <div id="ember-basic-dropdown-wormhole"></div>
  </body>
</html>
