<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
<meta name="@leansdk/leanes-documentation/config/environment" content="%7B%22modulePrefix%22%3A%22%40leansdk%2Fleanes-documentation%22%2C%22environment%22%3A%22production%22%2C%22rootURL%22%3A%22%2F%22%2C%22locationType%22%3A%22trailing-history%22%2C%22EmberENV%22%3A%7B%22FEATURES%22%3A%7B%7D%2C%22EXTEND_PROTOTYPES%22%3A%7B%22Date%22%3Afalse%7D%2C%22_APPLICATION_TEMPLATE_WRAPPER%22%3Afalse%2C%22_DEFAULT_ASYNC_OBSERVERS%22%3Atrue%2C%22_JQUERY_INTEGRATION%22%3Afalse%2C%22_TEMPLATE_ONLY_GLIMMER_COMPONENTS%22%3Atrue%7D%2C%22APP%22%3A%7B%22name%22%3A%22%40leansdk%2Fleanes-documentation%22%2C%22version%22%3A%227.0.0%2B89359ff1%22%7D%2C%22guidemaker%22%3A%7B%22title%22%3A%22LeanES%22%2C%22description%22%3A%22Docs%20%26%20Guides%22%2C%22sourceRepo%22%3A%22https%3A%2F%2Fgithub.com%2FLeanSDK%2FLeanSDK.github.io%22%2C%22copyright%22%3A%22Denis%20Trayzhon%20and%20SAIFAS%20LLC%22%2C%22social%22%3A%7B%22github%22%3A%22LeanSDK%2Fleanes%22%2C%22twitter%22%3A%22real_ate%22%2C%22discordLink%22%3A%22%3Cinsert%20link%20here%3E%22%7D%7D%2C%22historySupportMiddleware%22%3Atrue%2C%22exportApplicationGlobal%22%3Afalse%2C%22fastboot%22%3A%7B%22hostWhitelist%22%3A%5B%7B%7D%5D%7D%2C%22ember-meta%22%3A%7B%22description%22%3A%22Docs%20%26%20Guides%22%2C%22title%22%3A%22LeanES%22%7D%2C%22ember-collapsible-panel%22%3A%7B%7D%2C%22googleFonts%22%3A%5B%22Fredericka%2Bthe%2BGreat%22%2C%22Roboto%3A300%22%5D%7D" />
<!-- EMBER_CLI_FASTBOOT_TITLE -->  <meta name="ember-cli-head-start" content>  <title>Introduction - Object model - LeanES</title>

  <meta name="description" content="С этой главы начинается описание внутреннего устройства фреймворка LeanES и примеров его использования для построения приложений. 

Был пройден долгий путь и не одна реализация концепций, положенных в основу фреймворка LeanES. Note: когда появится время и...">

<meta name="referrer" content="unsafe-url">

<!---->
<!---->
<!---->
<!---->
  <meta property="og:title" content="Introduction - Object model - LeanES">

<!---->
  <meta property="og:description" content="С этой главы начинается описание внутреннего устройства фреймворка LeanES и примеров его использования для построения приложений. 

Был пройден долгий путь и не одна реализация концепций, положенных в основу фреймворка LeanES. Note: когда появится время и...">

  <meta property="og:type" content="website">

<!---->
<meta name="twitter:card" content="summary">

<!---->
<!---->
  <meta name="twitter:title" content="Introduction - Object model - LeanES">

<!---->
  <meta name="twitter:description" content="С этой главы начинается описание внутреннего устройства фреймворка LeanES и примеров его использования для построения приложений. 

Был пройден долгий путь и не одна реализация концепций, положенных в основу фреймворка LeanES. Note: когда появится время и...">

<!---->
<!---->
<!----><meta name="ember-cli-head-end" content>

<link href="https://fonts.googleapis.com/css?family=Fredericka+the+Great|Roboto:300" rel="stylesheet" type="text/css" media="all">

    <link integrity="" rel="stylesheet" href="/assets/vendor-8fdc42ffbb88b6ca5d19e9e988344ec2.css">
    <link integrity="" rel="stylesheet" href="/assets/@leansdk/leanes-documentation-d41d8cd98f00b204e9800998ecf8427e.css">

    
  </head>
  <body  class="application version show version-show">
    <script type="x/boundary" id="fastboot-body-start"></script><!---->

<header class="header">
  <nav role="navigation" aria-label="main" class="container">
    <a href="/" class="logo">
        <span>
          LeanES
        </span>
    </a>

    <form>
      <div id="ember13029" class="search-input ember-view"><!----></div>
    </form>
  </nav>
</header>

<main class="container">
  <aside class="sidebar">
        
    <div class="ember-view ember-basic-dropdown-trigger  ember-power-select-trigger" role="button" tabindex="0" data-ebd-id="ember13030-trigger" aria-owns="ember-basic-dropdown-content-ember13030" aria-label="v7.0.0-RU">
    
          <span class="ember-power-select-selected-item">
        
      7.0
    
      </span>
<!----><span class="ember-power-select-status-icon"></span>

  
  </div>

    <div id="ember-basic-dropdown-content-ember13030" class="ember-basic-dropdown-content-placeholder" style="display: none;"></div>





  <input id="toc-toggle" class="toc-toggle visually-hidden" type="checkbox">
  <label for="toc-toggle">Table of Contents <span class="visually-hidden">toggle</span></label>

  <nav class="toc-container versions" aria-label="table of contents">
    <ol id="ember13036" class="toc-level-0 ember-view">    <li class="toc-level-0 ">
<a href="#" id="ember13037" class="loading ember-view">          Introduction
</a>    </li>
<!---->    <li class="toc-level-0 ">
<div id="ember13038" class="cp-Panel cp-is-open ember-view"><a href="/release/getting-started" id="ember13039" class="cp-Panel-toggle ember-view">              Getting Started
</a>
<div id="ember13040" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13041" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/getting-started/index" id="ember13042" class="ember-view">          How To Use The Guides
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/getting-started/quick-start" id="ember13043" class="ember-view">          Quick Start
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13044" class="cp-Panel cp-is-open ember-view"><a href="/release/tutorial" id="ember13045" class="cp-Panel-toggle ember-view">              Tutorial
</a>
<div id="ember13046" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13047" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<div id="ember13048" class="cp-Panel cp-is-open ember-view"><a href="#" id="ember13049" class="cp-Panel-toggle loading ember-view">              Simple app
</a>
<div id="ember13050" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13051" class="toc-level-2 ember-view">    <li class="toc-level-2 ">
<a href="/release/tutorial/simple-app/index" id="ember13052" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-1 ">
<div id="ember13053" class="cp-Panel cp-is-open ember-view"><a href="#" id="ember13054" class="cp-Panel-toggle loading ember-view">              Daemon app
</a>
<div id="ember13055" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13056" class="toc-level-2 ember-view">    <li class="toc-level-2 ">
<a href="/release/tutorial/daemon-app/index" id="ember13057" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-1 ">
<div id="ember13058" class="cp-Panel cp-is-open ember-view"><a href="#" id="ember13059" class="cp-Panel-toggle loading ember-view">              RESTful Server
</a>
<div id="ember13060" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13061" class="toc-level-2 ember-view">    <li class="toc-level-2 ">
<a href="/release/tutorial/rest-server/index" id="ember13062" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember13063" class="loading ember-view">          Core Concepts
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember13064" class="cp-Panel cp-is-open ember-view"><a href="/release/object-model" id="ember13065" class="cp-Panel-toggle selected ember-view">              Object model
</a>
<div id="ember13066" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13067" class="toc-level-1 ember-view">    <li class="toc-level-1 selected">
<a href="/release/object-model/index" id="ember13068" class="ember-view">          Introduction
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/core-object" id="ember13069" class="ember-view">          CoreObject
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/meta-object" id="ember13070" class="ember-view">          MetaObject
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/module" id="ember13071" class="ember-view">          Module
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/proto" id="ember13072" class="ember-view">          Proto
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/mixin" id="ember13073" class="ember-view">          Mixin
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/state-machine" id="ember13074" class="ember-view">          StateMachine
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/decorators" id="ember13075" class="ember-view">          Decorators
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/interfaces" id="ember13076" class="ember-view">          Interfaces
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/utils" id="ember13077" class="ember-view">          Utils
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/constants" id="ember13078" class="ember-view">          Constants
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/object-model/plugins-and-patches" id="ember13079" class="ember-view">          Plugins &amp; Patches
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13080" class="cp-Panel cp-is-open ember-view"><a href="/release/puremvc" id="ember13081" class="cp-Panel-toggle ember-view">              PureMVC &amp; Clean Architecture
</a>
<div id="ember13082" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13083" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/puremvc/index" id="ember13084" class="ember-view">          PureMVC Gestalt
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/facade" id="ember13085" class="ember-view">          Facade
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/notifications" id="ember13086" class="ember-view">          Notifications
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/commands" id="ember13087" class="ember-view">          Commands
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/mediators" id="ember13088" class="ember-view">          Mediators
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/proxies" id="ember13089" class="ember-view">          Proxies
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/solid" id="ember13090" class="ember-view">          SOLID
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/clean-arch" id="ember13091" class="ember-view">          Clean Architecture
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/dependency-inversion" id="ember13092" class="ember-view">          Dependency inversion
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/puremvc/inversify" id="ember13093" class="ember-view">          InversifyJS
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13094" class="cp-Panel cp-is-open ember-view"><a href="/release/pipes" id="ember13095" class="cp-Panel-toggle ember-view">              Multitones &amp; Pipes
</a>
<div id="ember13096" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13097" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/pipes/index" id="ember13098" class="ember-view">          Pipe
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/pipes/pipe-message" id="ember13099" class="ember-view">          PipeMessage
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/pipes/junction" id="ember13100" class="ember-view">          Junction
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/pipes/pipe-aware-module" id="ember13101" class="ember-view">          PipeAwareModule
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13102" class="cp-Panel cp-is-open ember-view"><a href="/release/applications" id="ember13103" class="cp-Panel-toggle ember-view">              Application concerns
</a>
<div id="ember13104" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13105" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/applications/index" id="ember13106" class="ember-view">          Application
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/app-types" id="ember13107" class="ember-view">          Application types &amp; Goals
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/app-mediator" id="ember13108" class="ember-view">          Application Mediator
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/script-command" id="ember13109" class="ember-view">          Script command
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/logging" id="ember13110" class="ember-view">          Logging
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/applications/addons-in-use" id="ember13111" class="ember-view">          Addons in use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember13112" class="loading ember-view">          Addons
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember13113" class="cp-Panel cp-is-open ember-view"><a href="/release/fs-utils" id="ember13114" class="cp-Panel-toggle ember-view">              Fs Utils
</a>
<div id="ember13115" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13116" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/fs-utils/index" id="ember13117" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13118" class="cp-Panel cp-is-open ember-view"><a href="/release/configuration" id="ember13119" class="cp-Panel-toggle ember-view">              Configuration
</a>
<div id="ember13120" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13121" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/configuration/index" id="ember13122" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13123" class="cp-Panel cp-is-open ember-view"><a href="/release/delayable" id="ember13124" class="cp-Panel-toggle ember-view">              Delayable
</a>
<div id="ember13125" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13126" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/delayable/index" id="ember13127" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13128" class="cp-Panel cp-is-open ember-view"><a href="/release/mapper" id="ember13129" class="cp-Panel-toggle ember-view">              Mapper
</a>
<div id="ember13130" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13131" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/mapper/index" id="ember13132" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13133" class="cp-Panel cp-is-open ember-view"><a href="/release/rest" id="ember13134" class="cp-Panel-toggle ember-view">              RESTful
</a>
<div id="ember13135" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13136" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/rest/index" id="ember13137" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13138" class="cp-Panel cp-is-open ember-view"><a href="/release/swagger" id="ember13139" class="cp-Panel-toggle ember-view">              Swagger
</a>
<div id="ember13140" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13141" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/swagger/index" id="ember13142" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13143" class="cp-Panel cp-is-open ember-view"><a href="/release/queryable" id="ember13144" class="cp-Panel-toggle ember-view">              Queryable
</a>
<div id="ember13145" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13146" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/queryable/index" id="ember13147" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13148" class="cp-Panel cp-is-open ember-view"><a href="/release/mongo" id="ember13149" class="cp-Panel-toggle ember-view">              Mongo
</a>
<div id="ember13150" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13151" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/mongo/index" id="ember13152" class="ember-view">          How To Use
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember13153" class="loading ember-view">          Application Development
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember13154" class="cp-Panel cp-is-open ember-view"><a href="/release/simple-example" id="ember13155" class="cp-Panel-toggle ember-view">              Simple Example
</a>
<div id="ember13156" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13157" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/simple-example/index" id="ember13158" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13159" class="cp-Panel cp-is-open ember-view"><a href="/release/daemon-example" id="ember13160" class="cp-Panel-toggle ember-view">              Daemon Example
</a>
<div id="ember13161" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13162" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/daemon-example/index" id="ember13163" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<div id="ember13164" class="cp-Panel cp-is-open ember-view"><a href="/release/server-example" id="ember13165" class="cp-Panel-toggle ember-view">              Server Example
</a>
<div id="ember13166" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13167" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/server-example/index" id="ember13168" class="ember-view">          Introduction
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember13169" class="loading ember-view">          Developer tools
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember13170" class="cp-Panel cp-is-open ember-view"><a href="/release/cli" id="ember13171" class="cp-Panel-toggle ember-view">              CLI
</a>
<div id="ember13172" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13173" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/cli/" id="ember13174" class="ember-view">          Under Development
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
    <li class="toc-level-0 ">
<a href="#" id="ember13175" class="loading ember-view">          Additional Resources
</a>    </li>
    <li class="toc-level-0 ">
<div id="ember13176" class="cp-Panel cp-is-open ember-view"><a href="/release/glossary" id="ember13177" class="cp-Panel-toggle ember-view">              Glossary
</a>
<div id="ember13178" class="cp-Panel-body cp-is-open ember-view">
    <div class="cp-Panel-body-inner">
                  <ol id="ember13179" class="toc-level-1 ember-view">    <li class="toc-level-1 ">
<a href="/release/glossary/index" id="ember13180" class="ember-view">          CoreObject &amp; Decorators
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/glossary/puremvc" id="ember13181" class="ember-view">          PureMVC
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/glossary/clean-arch" id="ember13182" class="ember-view">          Clean Architecture
</a>    </li>
    <li class="toc-level-1 ">
<a href="/release/glossary/app-level" id="ember13183" class="ember-view">          Application level
</a>    </li>
</ol>

    </div>

</div>
</div>    </li>
</ol>
  </nav>

</aside>

<article id="ember13184" class="chapter ember-view"><!---->
  <a href="https://github.com/LeanSDK/LeanSDK.github.io/edit/master/guides/v7.0.0-RU/object-model/index.md" target="_blank" class="edit-page icon-pencil">Edit Page</a>

<h1>
  Introduction
</h1>
<hr>

<div id="ember13185" class="ember-view"><p>С этой главы начинается описание внутреннего устройства фреймворка LeanES и
примеров его использования для построения приложений.</p>
<p>Был пройден долгий путь и не одна реализация концепций, положенных в основу фреймворка LeanES.
Note: когда появится время и душевные силы, можно вернуться к этой главе и
добавить ретроспективу этапов разработки, однако на данный момент сфокусируемся
на текущих реалиях.</p>
<p>Предыдушие реализации испытали на себе влияние многих других технологий, языков
программирования и фреймворков, по сути фреймворк LeanES является воплощением "в камне"
накопленного за годы работы опыта, поэтому старался впитывать в себя все смое лучшее.</p>
<p>Так сложилось что путь становления начинается с языка программирования Ruby и фреймворка
Ruby on Rails - это прекрасный ЯП, содержащий в себе огромное количество полезных и
удобных концепций, фич, реализаций, подходов, библиотек.
И так как спустя несколько лет, после того как мы его уже перестали использовать
в коммерческой разработке и решили начать сохранять накопленный опыт в виде
реиспользуемого программного кода, для описания базовых сущностей - Классов
мы обратились к базовым концепциям Ruby чтобы воплотить некоторые удобные вещи на CoffeeScript.</p>
<p>Да, именно CoffeeScript. На тот момент только недавно выпустили стандарт ES5,
мыслей о ES6 даже в воздухе не витало, JavaScript пестрил "проблемными местами",
а CoffeeScript был наиболее технологичным решением, для написания серьезных программ.</p>
<p>Поэтому многие семантические и синтаксические концепции из Ruby были преемлимо
реализованы средставми языка CoffeeScript:</p>
<p><img src="/images/object-model/coffee-example.png" alt="coffee example" /></p>
<p><code>RC::CoreObject</code> - это базовый класс, в котором собрана основная низкоуровневая
логика объявления атрибутов и методов инстанса класса и самого класса (статических),
а так же логика, позволяющая работать механизмам примесей и интерфейсов.</p>
<p>Классы разрабатываемых модулей (приложений) должны наследоваться от класса <code>RC::Module</code>,
по сути он объявляет неймспейс в рамках которого можно обратиться к любому объявленному
классу из любого другого (центральная точка, регистр классов модуля).</p>
<p>Класс <code>RC::Mixin</code> нужен для того, чтобы от него можно было унаследовать классы "примесей",
в которых может объявляться общий код, который может быть подмешан в несколько
других классов. Концепция примесей взята из языка программирования Ruby и
решает проблему "Множественного наследования" в тех языках программирования
где это запрещено. На самом деле эта идея является более продвинутой, лаконичной,
простой, детерминированной и лишена язъянов присущих подходу с "Множественным наследованием".</p>
<p>Класс <code>RC::Interface</code> нужен для того, чтобы от него можно было унаследовать классы "интерфейсов".
Данная идея не присуща классам в языках CoffeeScript или Ruby, а превалирует в
строготипизированных языках (например TypeScript, ActionScript, Dart, C++, Haxe, JAVA, PHP, Scala),
в частных случаях например в C++ и Ruby реализуется через абстрактные классы с
виртуальными методами (виртуальным метод - метод инстанса класса, который объявлен
в классе с некоторым именем и возможно с типами входных и выходных аргументов,
но в нем отсутствует тело-реализация. Класс который содержит хотябы один виртуальный
метод инстанса автоматически считается виртуальным. От виртуальных классов
нельзя инстанцировать объекты, но можно унаследовать дочерний класс в котором
будет объявлена реализация виртуального метода, после чего от него можно инстанцировать объекты).
Однако паттерн "Интерфейс" является одним из самых базовых паттернов проектирования
ПО (мета-паттерн), т.к. позволяет дать описание класса в общем (мета) виде без
конкретной реализации и является самым мощным инструментом при описании нескольких
классов со схожим функционалом (поведением), реализуя таким образом один из базовых
принципов ООП - "Полиморфизм".
(этот принцип позволяет делать классы, или целые модули, взаимозаменяемыми,
что повышает компонуемость приложения - огромные приложения можно писать из небольших
частей-компонентов, главное условие которых - они должны удовлетворять заявленному интерфейсу)</p>
<p>Класс <code>RC::Class</code> так же является базовым и нужен для конструирования классов "на лету",
если это необходимо. Так же он нужен чтобы близко соответствовать объектной модели в ЯП Ruby -
т.е. все классы в приложении и в т.ч. базовые являются инстансами класса RC::Class.
Поэтому он может быть использовать при объявлении типов, если аргумент функции
или проперти в качестве value будут содержать не объект (или примитив), а некоторый класс.</p>
<p>Класс <code>RC::MetaObject</code> - это служебный класс, от него не требудется наследоваться, единственная его задача - это сохранение всей мета- информаци класса в виде связанных между собой "словарей". Когда имеет место быть "Наследование", инстанс класса <code>RC::MetaObject</code> в классе-наследнике получает ссылку на инстанс класса <code>RC::MetaObject</code> в классе-родителе. Когда необходимо получить любую мета- информацию, происходит поиск этой информации по всей цепочке связанных мета-объектов в цепочке наследования конкретного класса.</p>
<h2 id="coreobject">Базовый класс CoreObject</h2>
<section aria-labelledby="coreobject">
<p>Так как вся магия скрыта именно в этом классе, а принципы внутренней организации не существенны, покажем простой пример унаследования целевого класса от CoreObject, а так же попутно покажем как использовать "примеси" и "интерфейсы"</p>
<p>Но сперва надо отметить какие фичи реализованы в CoreObject:</p>
<ul>
<li>Объявление публичных, приватных и защищенных проперти и методов инстанса класса</li>
<li>Объявление статических проперти и методов класса</li>
<li>Объявление виртуальных проперти и методов</li>
<li>Обеспечение статической типизации как для проперти и методов, так и для входящих и выходящих аргументов методов. (проверка типов)</li>
<li>Наследование защищенных проперти и методов</li>
<li>Подмешивание примесей к классам</li>
<li>Безопасный вызов "super" - реализации метода из родительского класса</li>
<li>Использование указателей для приватных и защищенных проперти и методов (обращение к ним только через указатели доступные только в области видимости текущего класса)</li>
<li>Непереопределяемость проперти и методов извне класса ("защита от дурака")</li>
<li>Расширяемость класса в будущем полезными методами из класса Object в ЯП Ruby</li>
</ul>
<p>Пример объявления интерфейса</p>
<p><img src="/images/object-model/coffee-interface.png" alt="coffee interface" /></p>
<p>Здесь мы видим, что класс интерфейса надо унаследовать от <code>RC::Interface</code>, после чего вызвать специальный метод, для наследования защищенных проперти и методов <code>@inheritProtected()</code>&nbsp;</p>
<p>Так же надо не забыть прокинуть ссылку на модуль внутырь класса <code>@Module: App</code></p>
<p>Затем объявляем нужные методы или проперти. В интерфейсе можно объявлять только публичные виртуальные методы и проперти, однако могут быть объявлены не только методы инстанса, но и статические методы самого класса.</p>
<p>Следует обратить внимание что первый аргумент это объект где <code>key</code> - имя объявляемого проперти/метода, а <code>value</code> - это тип. (отсылка к строгой типизации)&nbsp;</p>
<p>При объявлении методов, тип всегда <code>Function</code>, а во втором аргументе обязательно должны быть объявлены ключи <code>args</code> и <code>return</code>. В <code>args</code> всегда массив типов аргументов, в <code>return</code> - всегда одно значение типа выходного аргумента (т.к. в js и в coffeescript функция всегда возвращает одно значение)</p>
<p>Как и любой класс унаследованный от CoreObject в конце после объявления он должен быть проинициализирован вызовом метода <code>initialize()</code></p>
<p>Пример объявления примеси</p>
<p><img src="/images/object-model/coffee-mixin.png" alt="coffee mixin" /></p>
<p>Здесь мы видим схожее с интерфейсом объявление, однако миксины могут содержать только <b>НЕ</b> виртуальные объявления методов и пропертей (для виртуальных существуют интерфейсы), а так же объявления в них могут быть только публичные и защищенные. Если объявляемый метод не объявлен в подключенном к миксину интерфейсу, или если миксин не имплементирует интерфейс в котором есть объявление этого метода, то при объявлении в нем обязательно наличие ключей <code>args</code> и <code>return</code></p>
<p>Пример целевого класса</p>
<p><img src="/images/object-model/coffee-example.png" alt="coffee example" /></p>
<p>Дериктива <code>@implements APP::TestInterface</code> сообщает классу, что он имплементирует Некоторый интерфейс.</p>
<p>Дериктива <code>@include App::TestMixin</code> подмешивает в класс Некоторую примесь.</p>
</section>
<h3 id="apicoreobject">API класса CoreObject</h3>
<section aria-labelledby="apicoreobject">
<p>Исходя из описанного выше можно сделать вывод - <em>CoreObject</em> как минимум
реализует весь необходимый функционал, так что после объявления классов в коде
прикладного приложения, все будет работать "из-коробки" (достаточно использовать
все эти <code>@inheritProtected</code>, <code>@Module</code>, <code>@public</code>, <code>@static</code>, <code>@protected</code>, <code>@initialize</code>
в прикладном коде, а <em>CoreObject</em> сделает всю остальную работу за сценой).</p>
<p>Однако надо отметить какими еще методами из <em>CoreObject</em> программист может
воспользоваться в коде своего приложения:</p>
<ul>
<li><p><code>@super()</code> - внутри методов инстанса и внутри статических методов</p></li>
<li><p><code>@wrap()</code> - статический и метод инстанса - чтобы обернуть любую функцию, так что она будет выполняться с текущим контекстом</p></li>
<li><p><code>@inheritProtected()</code> - статический метод чтобы корректно закончить операцию наследования в т.ч. приватных и защищенных методов и свойств</p></li>
<li><p><code>@new()</code> - статический метод эквивалентный оператору new, т.е. MyClass.new() === new MyClass()</p></li>
<li><p><code>@include()</code> - статический метод для подмешивания примесей</p></li>
<li><p><code>@implements()</code> - статический метод, чтобы указать какой нитерфейс имплементирует класс</p></li>
<li><p><code>@freeze()</code> - статический метод чтобы указать классу, что он "заморожен", т.е. больше не может быть изменен как снаружи так и изнутри</p></li>
<li><p><code>@isSupersetOf()</code> - статический метод, возвращает true если текущий класс имеет совместимый интерфейс (наследник в "широком смысле")</p></li>
<li><p><code>@subtypeOf()</code> - статический метод, возвращает true если подтип некоторого более абстрактного типа</p></li>
<li><p><code>@initialize()</code> - статический метод, вызывается последним в теле объявления <b>класса</b> чтобы указать классу, что его объявление закончено.</p></li>
<li><p><code>@initializeMixin()</code> - статический метод, вызывается последним в теле объявления <b>миксина</b> чтобы указать, что его объявление закончено.</p></li>
<li><p><code>@async()</code> - статический метод чтобы указать что объявляемая функция асинхронная</p></li>
<li><p><code>@static()</code> - статический метод чтобы указать что объявляемая функция статическая</p></li>
<li><p><code>@public()</code> - статический метод чтобы определить публичный метод класса (как статический так и инстанса)</p></li>
<li><p><code>@protected()</code> - статический метод чтобы определить защищенный метод класса (как статический так и инстанса)</p></li>
<li><p><code>@private()</code> - статический метод чтобы определить приватный метод класса (как статический так и инстанса)</p></li>
<li><p><code>@const()</code> - статический метод чтобы определить в классе константу</p></li>
<li><p><code>@module()</code> - статический метод, используется в теле класса, чтобы явно указать классу, что он находится в неймспейсе конкретного модуля.</p></li>
<li><p><code>@moduleName()</code> - статический и метод инстанса - возвращает имя модуля</p></li>
<li><p><code>@superclass()</code> - только статический метод класса, возвращает ссылку на родительский класс</p></li>
<li><p><code>@class()</code> - статический и метод инстанса - возвращает ссылку на конструктор</p></li>
<li><p><code>@restoreObject()</code> - чтобы восстановить инстанс данного класса из снапшота</p></li>
<li><p><code>@replicateObject()</code> - чтобы на основе инстанса данного класса создать json-снапшот</p></li>
<li><p><code>init()</code> - во всех унаследованных классах определение кода, который должен быть в конструкторе, необходимо определять в этом методе вместо <code>constructor</code></p></li>
<li><p><code>Module</code> - свойство класса и инстанса, возвращает ссылку на текущий модуль (неймспейс) в котором находится класс</p></li>
<li><p><code>mixins</code> - статическое свойство возвращает массив подмешенных <b>миксинов</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>interfaces</code> - статическое свойство возвращает массив имплементированных <b>интерфейсов</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>classMethods</code> - статическое свойство возвращает массив <b>методов класса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>instanceMethods</code> - статическое свойство возвращает массив <b>методов инстанса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>classVirtualMethods</code> - статическое свойство возвращает массив <b>виртуальный методов класса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>instanceVirtualMethods</code> - статическое свойство возвращает массив <b>виртуальный методов инстанса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>classImplemenedMethods</code> - статическое свойство возвращает массив <b>имплементированных методов класса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>instanceImplemenedMethods</code> - статическое свойство возвращает массив <b>имплементированных методов инстанса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>constants</code> - статическое свойство возвращает массив определенных <b>констант</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>instanceVariables</code> - статическое свойство возвращает массив <b>свойств инстанса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>classVariables</code> - статическое свойство возвращает массив <b>свойств класса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>instanceVirtualVariables</code> - статическое свойство возвращает массив <b>виртуальных свойств инстанса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>classVirtualVariables</code> - статическое свойство возвращает массив <b>виртуальных свойств класса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>instanceImplemenedVariables</code> - статическое свойство возвращает массив <b>имплементированных свойств инстанса</b> (на протяжение всей цепочки наследования)</p></li>
<li><p><code>classImplemenedVariables</code> - статическое свойство возвращает массив <b>имплементированных свойств класса</b> (на протяжение всей цепочки наследования)</p></li>
</ul>
</section>
<h2 id="">Использование всех этих методов обеспечивает следующие основные функции:</h2>
<section aria-labelledby="">
<ol>
<li>Полная интроспекция всей кодовой базы как "снаружи", так и в runtime.</li>
<li>В runtime есть полный доступ ко всем объявленным методам и свойствам, типам аргументов и типам результатов методов</li>
<li>Полная проверка типов в процессе выполнения в development окружении, проверки типов опускаются когда код приложения работает в production окружении. Реализованы следующие типы: <code>AnyT</code>, <code>ArrayT</code>, <code>AsyncFunctionT</code>, <code>BooleanT</code>, <code>BufferT</code>, <code>ClassT</code>, <code>DateT</code>, <code>DictT</code>, <code>EnumT</code>, <code>ErrorT</code>, <code>EventEmitterT</code>, <code>FunctionT</code>, <code>FunctorT</code>, <code>GeneratorFunctionT</code>, <code>GeneratorT</code>, <code>GenericT</code>, <code>IntegerT</code>, <code>InterfaceT</code>, <code>IntersectionT</code>, <code>LambdaT</code>, <code>ListT</code>, <code>MapT</code>, <code>MaybeT</code>, <code>MixinT</code>, <code>ModuleT</code>, <code>NilT</code>, <code>NumberT</code>, <code>ObjectT</code>, <code>PointerT</code>, <code>PromiseT</code>, <code>RegExpT</code>, <code>SetT</code>, <code>StreamT</code>, <code>StringT</code>, <code>StructT</code>, <code>SymbolT</code>, <code>TupleT</code>, <code>TypeT</code>, <code>UnionT</code></li>
<li>Полная проверка интерфейсов так же в development окружении</li>
<li>Реализованы модификаторы доступа <code>private</code>, <code>public</code>, <code>protected</code>, что позволяет организовать полную инкапсуляцию методов и свойств.</li>
<li>Кодовая база может быть организована в <em>Модули</em>, обращение к классам, константам и утилитам модуля происходит непосредственно через <em>Модуль</em>. Что так же решает проблему циклических зависимостей, позволяет организовать кеширование и ленивую подгрузку любых сущностей внутри модуля.</li>
<li>Каждая единица (класс) <em>Модуля</em> экспортируется в виде шаблонной функции, принимающей в качестве аргумента <em>Модуль</em> - <code>by design</code>. Это обеспечивает <b>полную</b> компонуемость (подключаемость) любых единиц (классов) <em>Модуля</em> внутырь любых других модулей, иными словами - можно любой класс подключить в любой прикладной модуль, из любого подгруженного модуля.</li>
<li>Базовый модуль библиотеки можно унаследовать в прикладной модуль приложения и иметь сразу все классы, находящиеся в составе базового модуля. так же в прикладной модуль приложения можно импортировать и подключать любыми модули расширений (плагинов), чтобы потом использовать их в программном коде.</li>
<li>Помимо <em>Интерфейсов</em> в библиотеке реализованы специальные методы объявления <em>Типов</em> и <em>Генериков</em>, в том числе готовые специальные генерики: <code>Declare</code>, <code>Generic</code>, <code>Mixin</code> и генерики общего назначения: <code>AccordG</code>, <code>AsyncFuncG</code>, <code>FuncG</code>, <code>DictG</code>, <code>EnumG</code>, <code>InterfaceG</code>, <code>IntersectionG</code>, <code>IrreducibleG</code>, <code>ListG</code>, <code>MapG</code>, <code>MaybeG</code>, <code>NotSampleG</code>, <code>SampleG</code>, <code>SetG</code>, <code>StructG</code>, <code>SubsetG</code>, <code>SubtypeG</code>, <code>TupleG</code>, <code>UnionG</code></li>
</ol>
</section>
<h3 id="-1">Так же в базовом модуле имплементировано несколько концепций:</h3>
<section aria-labelledby="-1">
<ol>
<li>Машина состояний - при разработке практически каждого приложения рано или поздно встает задача "реализовать некоторый функционал через машину состояний", это может быть "управление соединениями к базе данных" или "оплата ордера" или "отправка письма", это может быть что угодно. Но так как задание подразумевает переходы между некоторым оганиченным набором состояний и выполнение некоторой логики в момент перехода, то самым простым решением для такой задачи является именно Машина состояний. В библиотеке реализован <em>Миксин</em> для подключения Машины состояний с несколькими служемными классами. Подробнее это будет описано в отдельной главе.</li>
<li>Очень часто инверсию управления, в некотором классе, удобнее всего реализовать через такую концепцию как <code>Hook</code>. Что требуется сделать программисту - всего лишь определить имена "Хуков" в данном классе, по сути будут созданы пустые методы, которые могут быть переопределены в унаследованном классе, либо могут быть инъектированны извне. Концепция "Хуков" предоставляет так же еще один инструмент, если при объявлении куков указать имена методов класса, которые должны быть вызваны при выполнении "Хуков". Таким образом мы всего лишь описываем декларативное представление последовательного выполения некоторых методов класса, композиция выполнения будет произведена за "сценой", а программисту достаточно лишь описать "поштучно" эти методы в коде класса. Подробнее это будет описано в отдельной главе.</li>
</ol>
</section>
<h3 id="-2">Модуль "расширенной логики" содержит следующие несколько концепций:</h3>
<section aria-labelledby="-2">Модуль "расширенной логики">
<ol>
<li>Имплементация спецификации фреймворка PureMVC</li>
<li>Pipes для коммуникации между микро-ядрами мультитонами в составе PureMVC</li>
<li>Концепция DelayedJob чтобы можно было назначать любой метод класса для обработки в фоновом потоке.</li>
<li>В чстности DelayedJob реализован как частный случай концепции Resque. Можно определять такую абстракцию как Очередь и Обработчик очереди. Черед подмешивание миксина Очередь и Обработчик могут работать с конкретным бекэндом хранения очередей (база данных, менеджер очередей,...)</li>
<li>Концепция Switch-медиатора в котором запускается http-сервер и он посылает приложению сигнал на обработку приходящего к серверу запроса</li>
<li>Концепция прокси-Коллекции, как абстракция надо работой с таблицей в базе данных</li>
<li>Конецпция Data-Mapper для работы с сериализацией записей из таблицы в базе данных</li>
<li>Концепция Router класса содержащего декларативную карту роутов-урлов, которые может обрабатывать http-сервер</li>
<li>Концепция Миграций, для проведения изменений с таблицами в базе данных и/или изменения данных в таблицах</li>
<li>Концепция прокси-Конфигуркции - как центральной точки в приложении, хранящей все конфиги (получающей конфиги из файла на жестком диске, из переменных окружения или любым другим способом)</li>
<li>Концепция прокси-Гейтвея хранящего все описания эндпоинтов http-сервера для предоставления json- метаданных в SwaggerUI в формате OpenAPI</li>
<li>Концепция Query-объекта, он в декларативном виде содержит описание запроса в формате MongoQuery для того чтобы формат запроса не зависил от того, с какой базой данных идет работа в приложении</li>
<li>Концепция Курсора как абстракция над итератором списка данных, возвращаемых из базы данных. Если возвращается массив за один раз, курсор предоставляет то же самое API для итерации по этому списку, но если возвращается поток данных, может быть создан полиморфный курсор с тем же интерфейсом для работы с потоком чанков - в программном коде приложения ничего менять не требуется.</li>
<li>Концепция полиморфного Рендерера, по умолчанию все ответы от http-сервера проходят через дефолтный json- рендерер, который всего лишь делать <code>JSON.stringify(result)</code>, но могут быть объявлены любые другие рендереры и они будут использоваться в зависимости от accept type в реквесте к серверу. Иными словами, если это html запрос, то рендеринг будет делегирован html- рендереру, если xml запрос, то xml- рендереру, ...</li>
<li>Концепция Ресурса реализует стандартный класс, который содержит обработчики запросов http-сервера. Именно к нему делегируется обработка запросов, которые получает Switch-медиатор.</li>
<li>Концепция Application класса как входной точки для запуска всего приложения. Этот класс унаследован от PipeAwareModule класса в составе Pipes из PureMVC - таким образом Application класс является еще и Shell медиатором, через который происходит коммуникация через Pipes cо всеми другими мультитонами в составе приложения. Таким образом "большое" приложение может состоять из независимых микро- приложений, коммуницирующих только через Pipes.</li>
<li>Реализовано большое количество миксинов для подмешивания специальной расширенной логики по необходимости.</li>
</ol>
</section>
<h2 id="es6">Появление ES6 и последующих стандартов</h2>
<section aria-labelledby="es6">
<p>Ничто не вечно под луной. К 2015 году в черновик ES6 стандарта перенесли очень большое количество удобных языковых конструкций из CoffeeScript, некоторые частично, некоторые не перенесены до сих пор. Однако это повлияло на экосистему JavaScript координальным образом и ускорило как внедрение новых стандартов, так и пополнение рядов девелоперов, которые стали переходить на JavaScript из других языков и диалектов.
К сожалению на данный момент CoffeeScript скорее мертв, чем жив. Продолжается его использование в закрытых корпоративных экосистемах, но скорее как legacy, новые фичи давно уже не внедряются в этот язык программирования.</p>
<p>Поэтому было принято решение адаптировать/переписать старую кодовую базу с CoffeeScript на современный JavaScript.
Статическую/статическую в рантайме типизацию было принято решение не переносить, чтобы не загромождать прикладной код обвязками в функциональном стиле, как это было в CoffeeScript варианте (там за счет более лаконичного синтаксиса это не вызывало никаких проблем).
Для статической проверки типов был выбран Flow.js, так как не вызывает обременения и просто вырезается Babel'ом в момент компиляции оставляя чистый JavaScript. Через дополнительный плагин к Babel все Flow типы превращаются в проверки черезе <code>assert()</code> в runtime - что так же удобно как на CoffeeScript и не требуется изобретать велосипед.</p>
<p>Так же к Babel'у был подключен плагин для использования в коде приложений декораторов, потому как они предоставляют прекрасный виразительный языковой инструмент, с помощью которого можно реализовать весь тот функционал, который был ранее реализован в CoffeeScript.</p>
<p>Так же было принято решение объедитить Базовый модуль и Расширяющий модуль в одной библиотеке - фреймворке, тк. показала практика Базовый модуль (предоставляющий только Объектную модель) практически не используется отдельно и проще сконцентрировать свои силы на одной библиотеке-фреймворке и проще сопровождать.</p>
<p>Однако Расширяющий модуль сильно перегружен заточенной под серверную разработку логикой, поэтому было решено произвести декомпозицию и вынести специализированный функционал в отдельные подключаемые модули - чтобы их можно было подключать по необходимости. Это положительно сказалось на архитектуре - были выявлены проблемные места с подключением плагинов и откровенные баги - и то и другое было исправлено. Отдельные модули так же стали легче и проще, как для понимания функционала так и для покрытия тестов и использования.</p>
<p>Было решено исправить ситуацию с использованием <code>this.facade.retrive...</code>, т.к. это вырождалось в использование фасада в качестве ServiceLocator, поэтому была проделана работа, по внедрению библиотеки inversifyJS в ядро фреймворка, чтобы инъектировать зависимости через геттер (или конструктор).
Таким образом больше не требуется предоставлять сложный перегруженный фасад в тестах, а код классов с использованием инструкций для инъекции стал по-настоящему гибким и изолированным.
Так же стоит отметить, что добавление inversifyJS было выполнено с сохранением обратной совместимости с API PureMVC, т.е. при написании кода в старом "стиле" все будет так же работать без ошибок. Это стало возможным за счет внедрения механизмов inversifyJS "под капотом". Для инъекции любых "старых" или "новых" классов, были добавлены специальные фабрики, они инъектируют нужные инстансы (а в некоторых случаях и классы) только в момент необходимого использования в runtime.</p>
<p>К сожалению, на последних этапах реализации было обнаружено, что в Flow.js нет возможности объявить интерфейсы для проверки статических методов классов, т.е.</p>
<ul>
<li>можно проверить итерфейсом инстанс класса</li>
<li>можно указать $Class в качестве типа аргумента</li>
</ul>
<p>НО нельзя:</p>
<ul>
<li>сделать проверку интерфейсом самого класса (проверить статические методы)</li>
<li>срезы и "простые" структуры с публичными методами тоже не могут выполнить проверку класса</li>
</ul>
<p>С одной стороны понятно, что необходимость в проверке интерфейса и самих статических методов классов возникает в том случае, когда классы активно передаются как значения, однако Flow.js позиционирует классы как вспомогательный инструмент - для проверки инстансов (оъектов).
С другой стороны программисту "виднее" как он хочет спроектировать классы и нужны ли ему статические методы, а если возникает потребность в передаче классов по значению (как объектов класса Class), то все таки у него должна быть возможность описать проверки, тем более что JavaScript явно позволяет передавать в качестве значений что-угодно, в т.ч. и классы.</p>
<p>На данный момент нет никаких сил и времени что либо переписывать, тем более настолько масштабно.
Однако если появятся желающие внести свою лепту в общее дело создания и поддержки фреймворка - стратегически и меньше всего потребует ресурсов - адаптировать имеющуюся кодовую базу на TypeScript. В нынешнем состоянии она более чем на 99% должна быть совместима с TypeScript. Обратить внимание стоит на использование специальных директив Flow.js, начинающихся с <code>$</code>, т.к. в TypeScript для них будут скорее всего другие аналогии.</p>
<p>На данный момент каждый модуль покрыт типами и внутри себя самодостаточно типизирован. Сборка каждого модуля в development режиме так же сохраняет все проверки типов в runtime. А следовательно при разработке любого прикладного приложения при использовании development сборок модулей - все проверки аргументов выполняются и в runtime приложения.
Все модули покрыты тестами (или почти все), а следовательно все модули можно безопасно использовать в разработке приложений.</p>
</section>
</div>

<footer id="ember13186" class="ember-view">  <a href="/release/tutorial/rest-server/index" id="ember13187" class="previous-guide ember-view">Introduction</a>

<a href="/release/object-model/core-object" id="ember13188" class="next-guide ember-view">      CoreObject
    </a></footer>
</article>


</main>

<footer id="ember105" class="es-footer ember-view" role="contentinfo">
  <div class="footer responsive">
    <div class="container space-between">
      <div id="ember106" class="footer-info flex-1">
        Denis Trayzhon and SAIFAS LLC © 2021
      </div>
      <div id="ember114" class="footer-statement footer-social">
            <a href="http://twitter.com/real_ate" target="_blank" title="Twitter">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 1000 1000">
                <path d="M939.5 227.941q-37 54-90 93v23q0 73-21 145t-64 139q-43 67-103 117t-144 82q-84 32-181 30-151 0-276-81 19 2 43 2 126 0 224-77-59-1-105-36t-64-89q19 3 34 3 24 0 48-6-63-13-104-62t-41-115v-2q38 21 82 23-37-25-59-64t-22-86q0-49 25-91 68 83 164 133t208 55q-5-21-5-41 0-75 53-127t127-53q79 0 132 57 61-12 115-44-21 64-80 100 52-6 104-28z"></path>
              </svg>
            </a>
            <a href="https://github.com/LeanSDK/leanes" target="_blank" title="GitHub">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 1000 1000">
                <path d="M392 643q0 22-7 45t-24 43q-17 20-40 19t-41-19q-18-18-24-43t-7-45q-1-20 7-46t24-43q16-17 41-19t40 19q15 21 24 43t7 46zm357 0q0 22-7 45t-24 43q-17 20-40 19t-41-19q-18-18-24-43t-7-45q-1-20 7-46t24-43q16-17 41-19t40 19q15 21 24 43t7 46zm90 0q0-67-39-114t-104-47q-23 0-109 12-40 6-88 6t-87-6q-85-12-109-12-66 0-104 47t-39 114q0 49 18 85t45 58q27 22 68 33t78 17q37 6 83 4h94q46 0 83-4t78-17q41-13 69-33t45-58q17-38 18-85zm125-99q0 116-34 185-22 43-59 74t-79 48q-42 17-95 27t-96 12q-43 2-93 3-43 0-79-2t-82-7q-46-5-85-17t-77-29q-38-17-67-45t-48-64q-35-69-35-185 0-132 76-221-15-45-15-95 0-64 28-121 61 0 106 22t106 69q82-20 172-20 83 0 157 18 58-46 104-67t105-22q29 57 29 121 0 49-15 94 76 89 76 222z"></path>
              </svg>
            </a>
            <a href="<insert link here>" title="Discord">
              <svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 245 240">
                <path d="M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zm36.5 0c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"></path>
                <path class="st0" d="M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"></path>
              </svg>
            </a>
      </div>
      <div id="ember118" class="footer-info flex-1 text-align-right">
        Built with <a href="https://github.com/empress/guidemaker" target="_blank">Guidemaker</a>
      </div>
    </div>
  </div>
</footer>
<script type="x/boundary" id="fastboot-body-end"></script>

    <script src="/assets/vendor-ad33abe8a418d2568f8a7820e981bb51.js"></script>
    <script src="/assets/@leansdk/leanes-documentation-7423de4002151c53f87c40ee89b5b7e6.js"></script>

    <div id="ember-basic-dropdown-wormhole"></div>
  </body>
</html>
